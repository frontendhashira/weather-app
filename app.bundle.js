(()=>{"use strict";var t={8:t=>{var n={};t.exports=function(t,e){var r=function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}},244:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=t.insertStyleElement(t);return{update:function(e){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var o=void 0!==e.layer;o&&(r+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),r+=e.css,o&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}");var a=e.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,t,n.options)}(n,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)}}}},283:t=>{t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},328:t=>{t.exports=function(t){return t[1]}},335:(t,n,e)=>{t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},432:t=>{t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}},633:t=>{t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e="",r=void 0!==n[5];return n[4]&&(e+="@supports (".concat(n[4],") {")),n[2]&&(e+="@media ".concat(n[2]," {")),r&&(e+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),e+=t(n),r&&(e+="}"),n[2]&&(e+="}"),n[4]&&(e+="}"),e}).join("")},n.i=function(t,e,r,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},655:t=>{var n=[];function e(t){for(var e=-1,r=0;r<n.length;r++)if(n[r].identifier===t){e=r;break}return e}function r(t,r){for(var a={},i=[],c=0;c<t.length;c++){var s=t[c],l=r.base?s[0]+r.base:s[0],d=a[l]||0,m="".concat(l," ").concat(d);a[l]=d+1;var p=e(m),u={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)n[p].references++,n[p].updater(u);else{var f=o(u,r);r.byIndex=c,n.splice(c,0,{identifier:m,updater:f,references:1})}i.push(m)}return i}function o(t,n){var e=n.domAPI(n);return e.update(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap&&n.supports===t.supports&&n.layer===t.layer)return;e.update(t=n)}else e.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var c=e(a[i]);n[c].references--}for(var s=r(t,o),l=0;l<a.length;l++){var d=e(a[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}a=s}}},673:(t,n,e)=>{e.d(n,{A:()=>c});var r=e(328),o=e.n(r),a=e(633),i=e.n(a)()(o());i.push([t.id,'* {\n\tfont-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,\n\t\tOxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n\tbox-sizing: border-box;\n\tpadding: 0;\n\tmargin: 0;\n\tlist-style: none;\n}\n\nbody {\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);\n\tmin-height: 100vh;\n}\n\n.hidden {\n\tdisplay: none !important;\n}\n\n.weather-app {\n\tmin-height: 100vh;\n\tdisplay: grid;\n\tgrid-template-rows: auto 1fr;\n\tmax-width: 1600px;\n\tmargin: 0 auto;\n\tbackground: rgba(255, 255, 255, 0.08);\n\tbackdrop-filter: blur(15px);\n\tborder: 1px solid rgba(255, 255, 255, 0.15);\n}\n\n.weather-app__header {\n\tpadding: 0.75rem 1.25rem;\n\tbackground: rgba(0, 0, 0, 0.1);\n\tbackdrop-filter: blur(20px);\n\tborder-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.search {\n\tdisplay: flex;\n\tgap: 0.5rem;\n\talign-items: center;\n}\n\n.search__group {\n\tdisplay: flex;\n\tflex: 1;\n\tborder-radius: 10px;\n\toverflow: hidden;\n\tbackground: rgba(255, 255, 255, 0.15);\n\tborder: 1px solid rgba(255, 255, 255, 0.2);\n\ttransition: all 0.3s ease;\n}\n\n.search__group:focus-within {\n\tbackground: rgba(255, 255, 255, 0.25);\n\tborder-color: rgba(255, 255, 255, 0.4);\n}\n\n.search__input {\n\tflex: 1;\n\tpadding: 0.6rem 1rem;\n\tborder: none;\n\tfont-size: 0.85rem;\n\tbackground: transparent;\n\tcolor: white;\n\toutline: none;\n}\n\n.search__input::placeholder {\n\tcolor: rgba(255, 255, 255, 0.7);\n}\n\n.search__btn {\n\tborder: none;\n\tfont-size: 0.8rem;\n\tfont-weight: 600;\n\tcursor: pointer;\n\ttransition: all 0.3s ease;\n\tbackdrop-filter: blur(10px);\n}\n\n.search__btn--primary {\n\tpadding: 0.6rem 0.8rem;\n\tbackground: rgba(255, 255, 255, 0.9);\n\tcolor: #667eea;\n\tborder-radius: 0;\n}\n\n.search__btn--secondary {\n\tpadding: 0.6rem 1rem;\n\tbackground: rgba(255, 255, 255, 0.15);\n\tcolor: white;\n\tborder: 1px solid rgba(255, 255, 255, 0.3);\n\tborder-radius: 10px;\n}\n\n.search__btn:hover {\n\ttransform: translateY(-1px);\n\tbox-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);\n}\n/* Welcome State */\n/* Welcome Block - BEM version */\n.welcome {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\ttext-align: center;\n\tpadding: 2rem 1.5rem;\n\tbackground: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);\n\tmax-height: 100vh;\n\tbox-sizing: border-box;\n\toverflow-y: auto;\n}\n\n.welcome__icon {\n\tfont-size: clamp(4rem, 7vw, 7.5rem);\n\tmargin-bottom: 1.5rem;\n}\n\n.welcome__title {\n\tfont-size: clamp(1.75rem, 5vw, 2.25rem);\n\tcolor: #2d3436;\n\tmargin-bottom: 1rem;\n\tfont-weight: 300;\n}\n\n.welcome__subtitle {\n\tfont-size: clamp(1rem, 3vw, 1.125rem);\n\tcolor: #636e72;\n\tmargin-bottom: 2rem;\n\tline-height: 1.6;\n\tmax-width: 600px;\n}\n\n.welcome__actions {\n\tdisplay: flex;\n\tgap: 1rem;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n\twidth: 100%;\n\tmax-width: 900px;\n}\n\n.welcome__action-card {\n\tbackground: white;\n\tpadding: 1.5rem;\n\tborder-radius: 1.25rem;\n\tbox-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n\ttext-align: center;\n\twidth: 100%;\n\tmax-width: 250px;\n\ttransition: transform 0.3s ease;\n\tmargin-bottom: 1rem;\n}\n\n.welcome__action-card:hover {\n\ttransform: translateY(-5px);\n}\n\n.welcome__action-icon {\n\tfont-size: clamp(1.5rem, 2vw, 3rem);\n\tmargin-bottom: 0.8rem;\n}\n\n.welcome__action-title {\n\tfont-size: clamp(0.8rem, 1.5vw, 1.25rem);\n\tcolor: #2d3436;\n\tmargin-bottom: 0.3rem;\n\tfont-weight: 600;\n}\n\n.welcome__action-desc {\n\tfont-size: clamp(0.8rem, 0.5vw, 0.875rem);\n\tcolor: #636e72;\n\tline-height: 1.5;\n}\n\n/* Loading State */\n.loading-state {\n\ttext-align: center;\n\tpadding: 100px 40px;\n\tbackground: linear-gradient(135deg, #e8f4f8 0%, #d1ecf1 100%);\n}\n\n.spinner {\n\twidth: 60px;\n\theight: 60px;\n\tborder: 4px solid #e3f2fd;\n\tborder-top: 4px solid #2196f3;\n\tborder-radius: 50%;\n\tanimation: spin 1s linear infinite;\n\tmargin: 0 auto 30px;\n}\n\n@keyframes spin {\n\t0% {\n\t\ttransform: rotate(0deg);\n\t}\n\t100% {\n\t\ttransform: rotate(360deg);\n\t}\n}\n\n.loading-title {\n\tfont-size: 24px;\n\tcolor: #2d3436;\n\tmargin-bottom: 15px;\n}\n\n.loading-message {\n\tfont-size: 16px;\n\tcolor: #636e72;\n}\n\n/* Error State */\n.error-state {\n\ttext-align: center;\n\tpadding: 80px 40px;\n\tbackground: linear-gradient(135deg, #ffe8e8 0%, #ffcccb 100%);\n}\n\n.error-icon {\n\tfont-size: 80px;\n\tmargin-bottom: 20px;\n}\n\n.error-title {\n\tfont-size: 28px;\n\tcolor: #d63031;\n\tmargin-bottom: 15px;\n}\n\n.error-message {\n\tfont-size: 16px;\n\tcolor: #636e72;\n\tmargin-bottom: 30px;\n\tline-height: 1.6;\n}\n\n.retry-btn {\n\tbackground: #d63031;\n\tcolor: white;\n\tpadding: 15px 30px;\n\tborder: none;\n\tborder-radius: 25px;\n\tfont-size: 16px;\n\tcursor: pointer;\n\ttransition: all 0.3s ease;\n}\n\n.retry-btn:hover {\n\tbackground: #b71c1c;\n\ttransform: translateY(-2px);\n}\n\n/* Main Content Grid - Left smaller, Right larger */\n.weather-app__content {\n\tdisplay: grid;\n\tgrid-template-columns: 380px 1fr;\n\tmin-height: calc(100vh - 60px);\n\toverflow: auto;\n\tgap: 1px;\n}\n\n/* Current Weather Section - Compact Left Side */\n.current-weather {\n\tdisplay: grid;\n\tgrid-template-rows: auto 1fr;\n\tbackground: linear-gradient(\n\t\t135deg,\n\t\trgba(255, 255, 255, 0.2) 0%,\n\t\trgba(255, 255, 255, 0.1) 100%\n\t);\n\tbackdrop-filter: blur(20px);\n\toverflow-y: auto;\n}\n\n.current-weather__main {\n\tpadding: 1.5rem 1.25rem;\n\ttext-align: center;\n\tcolor: white;\n}\n\n.current-weather__location {\n\tfont-size: 1.1rem;\n\tfont-weight: 400;\n\tmargin-bottom: 0.75rem;\n\topacity: 0.9;\n}\n\n.current-weather__temp {\n\tfont-size: 3.5rem;\n\tfont-weight: 100;\n\tmargin: 0.75rem 0;\n\ttext-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n\tline-height: 1;\n}\n\n.current-weather__icon {\n\tfont-size: 2.5rem;\n\tmargin: 0.75rem 0;\n\tfilter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n}\n\n.current-weather__condition {\n\tfont-size: 1.1rem;\n\tmargin-bottom: 0.5rem;\n\tfont-weight: 300;\n}\n\n.current-weather__feels-like {\n\tfont-size: 0.9rem;\n\topacity: 0.8;\n\tfont-weight: 400;\n}\n\n/* Weather Details - Compact Grid */\n.weather-details {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(2, 1fr);\n\tgap: 0.5rem;\n\tpadding: 1.25rem;\n\tbackground: rgba(255, 255, 255, 0.05);\n}\n\n.weather-details__card {\n\ttext-align: center;\n\tpadding: 0.75rem;\n\tbackground: rgba(255, 255, 255, 0.12);\n\tborder-radius: 10px;\n\tbackdrop-filter: blur(10px);\n\tborder: 1px solid rgba(255, 255, 255, 0.1);\n\ttransition: all 0.3s ease;\n\tcolor: white;\n}\n\n.weather-details__card:hover {\n\ttransform: translateY(-2px);\n\tbackground: rgba(255, 255, 255, 0.18);\n}\n\n.weather-details__icon {\n\tfont-size: 1.2rem;\n\tmargin-bottom: 0.4rem;\n\tdisplay: block;\n}\n\n.weather-details__label {\n\tfont-size: 0.65rem;\n\topacity: 0.8;\n\tmargin-bottom: 0.2rem;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n}\n\n.weather-details__value {\n\tfont-size: 0.85rem;\n\tfont-weight: 600;\n}\n\n/* Forecasts Section - Larger Right Side */\n.forecasts {\n\tdisplay: grid;\n\tgrid-template-rows: 25% 75%;\n\tbackground: rgba(255, 255, 255, 0.05);\n\toverflow: auto;\n}\n\n/* Hourly Forecast - Reduced Height */\n.hourly-forecast {\n\tpadding: 1rem 1.25rem;\n\tborder-bottom: 1px solid rgba(255, 255, 255, 0.1);\n\toverflow: hidden;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.hourly-forecast__title {\n\tfont-size: 1rem;\n\tfont-weight: 600;\n\tcolor: white;\n\tmargin-bottom: 0.75rem;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n}\n\n.hourly-forecast__list {\n\tdisplay: flex;\n\tgap: 0.5rem;\n\toverflow-x: auto;\n\tpadding-bottom: 0.5rem;\n\tflex: 1;\n}\n\n.hourly-forecast__list::-webkit-scrollbar {\n\theight: 3px;\n}\n\n.hourly-forecast__list::-webkit-scrollbar-track {\n\tbackground: rgba(255, 255, 255, 0.1);\n\tborder-radius: 2px;\n}\n\n.hourly-forecast__list::-webkit-scrollbar-thumb {\n\tbackground: rgba(255, 255, 255, 0.3);\n\tborder-radius: 2px;\n}\n\n.hourly-forecast__item {\n\tmin-width: 65px;\n\ttext-align: center;\n\tpadding: 0.75rem 0.5rem;\n\tbackground: rgba(255, 255, 255, 0.12);\n\tborder-radius: 10px;\n\tcolor: white;\n\tbackdrop-filter: blur(10px);\n\tborder: 1px solid rgba(255, 255, 255, 0.1);\n\ttransition: all 0.3s ease;\n\theight: max-content;\n}\n\n.hourly-forecast__item:hover {\n\tbackground: rgba(255, 255, 255, 0.18);\n\ttransform: translateY(-2px);\n}\n\n.hourly-forecast__time {\n\tfont-size: 0.65rem;\n\topacity: 0.8;\n\tmargin-bottom: 0.4rem;\n}\n\n.hourly-forecast__icon img {\n\twidth: 2rem;\n}\n\n.hourly-forecast__temp {\n\tfont-size: 0.8rem;\n\tfont-weight: 600;\n}\n\n/* Weekly Forecast - More Space */\n.weekly-forecast {\n\tpadding: 1.25rem;\n\toverflow-y: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.weekly-forecast__title {\n\tfont-size: 1rem;\n\tfont-weight: 600;\n\tcolor: white;\n\tmargin-bottom: 1rem;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 0.5rem;\n}\n\n.weekly-forecast__list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 0.5rem;\n\tflex: 1;\n}\n\n.weekly-forecast__item {\n\tdisplay: grid;\n\tgrid-template-columns: 85px 35px 1fr auto;\n\talign-items: center;\n\tgap: 0.75rem;\n\tpadding: 0.75rem 1rem;\n\tbackground: rgba(255, 255, 255, 0.12);\n\tborder-radius: 10px;\n\tcolor: white;\n\tbackdrop-filter: blur(10px);\n\tborder: 1px solid rgba(255, 255, 255, 0.1);\n\ttransition: all 0.3s ease;\n}\n\n.weekly-forecast__item:hover {\n\tbackground: rgba(255, 255, 255, 0.18);\n\ttransform: translateX(5px);\n}\n\n.weekly-forecast__day {\n\tfont-weight: 600;\n\tfont-size: 0.85rem;\n}\n\n.weekly-forecast__icon img {\n\twidth: 2rem;\n}\n\n.weekly-forecast__condition {\n\tfont-size: 0.8rem;\n\topacity: 0.9;\n}\n\n.weekly-forecast__temps {\n\tdisplay: flex;\n\tgap: 0.6rem;\n\tfont-weight: 600;\n\tfont-size: 0.8rem;\n}\n\n.weekly-forecast__temp-high {\n\tcolor: #ff7675;\n\tmin-width: 6ch;\n}\n\n.weekly-forecast__temp-low {\n\tcolor: #74b9ff;\n\topacity: 0.8;\n\tmin-width: 6ch;\n}\n\n/* Responsive Design */\n@media (max-width: 1200px) {\n\t.weather-app__content {\n\t\tgrid-template-columns: 320px 1fr;\n\t}\n}\n\n@media (max-width: 1024px) {\n\t.weather-app__content {\n\t\tgrid-template-columns: 1fr;\n\t\tgrid-template-rows: auto 1fr;\n\t}\n\n\t.current-weather {\n\t\tborder-bottom: 1px solid rgba(255, 255, 255, 0.1);\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tgrid-template-rows: none;\n\t}\n\n\t.current-weather__main {\n\t\tpadding: 1.25rem;\n\t}\n\n\t.current-weather__temp {\n\t\tfont-size: 2.8rem;\n\t}\n\n\t.current-weather__icon {\n\t\tfont-size: 2rem;\n\t}\n\n\t.weather-details {\n\t\tgrid-template-columns: repeat(3, 1fr);\n\t\tpadding: 1rem;\n\t\tgap: 0.4rem;\n\t}\n\n\t.forecasts {\n\t\tgrid-template-rows: none;\n\t\tgrid-template-columns: 1fr 1fr;\n\t}\n\n\t.weekly-forecast {\n\t\tborder-left: 1px solid rgba(255, 255, 255, 0.1);\n\t}\n}\n\n@media (max-width: 768px) {\n\t.weather-app__content {\n\t\tgrid-template-columns: 1fr;\n\t\tgrid-template-rows: auto auto 1fr;\n\t}\n\n\t.current-weather {\n\t\tgrid-template-columns: 1fr;\n\t\tgrid-template-rows: auto auto;\n\t}\n\n\t.current-weather__main {\n\t\tpadding: 1rem;\n\t}\n\n\t.current-weather__temp {\n\t\tfont-size: 2.5rem;\n\t}\n\n\t.weather-details {\n\t\tgrid-template-columns: repeat(3, 1fr);\n\t\tpadding: 1rem;\n\t}\n\n\t.forecasts {\n\t\tgrid-template-columns: 1fr;\n\t\tgrid-template-rows: auto 1fr;\n\t}\n\n\t.weekly-forecast {\n\t\tborder-left: none;\n\t\tborder-top: 1px solid rgba(255, 255, 255, 0.1);\n\t}\n\n\t.hourly-forecast {\n\t\tpadding: 1rem;\n\t}\n\n\t.weekly-forecast {\n\t\tpadding: 1rem;\n\t}\n}\n\n@media (max-width: 480px) {\n\t.weather-details {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\n\t.hourly-forecast__item {\n\t\tmin-width: 50px;\n\t\tpadding: 0.6rem 0.4rem;\n\t}\n\n\t.weekly-forecast__item {\n\t\tgrid-template-columns: 60px 25px 1fr auto;\n\t\tgap: 0.5rem;\n\t\tpadding: 0.6rem 0.75rem;\n\t\tfont-size: 0.8rem;\n\t}\n\n\t.weekly-forecast__temps {\n\t\tgap: 0.4rem;\n\t}\n}\n\n/* Responsive adjustments */\n@media (width <= 768px) {\n\t.welcome {\n\t\tpadding: 1.5rem 1rem;\n\t}\n\n\t.welcome__actions {\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\n\t.welcome__action-card {\n\t\tmax-width: 300px;\n\t}\n\n\t.search {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.search__group {\n\t\twidth: 100%;\n\t}\n\n\t.search__btn--secondary {\n\t\twidth: 100%;\n\t}\n}\n',""]);const c=i}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return t[r](a,a.exports,e),a.exports}e.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.nc=void 0;var r=e(655),o=e.n(r),a=e(244),i=e.n(a),c=e(8),s=e.n(c),l=e(335),d=e.n(l),m=e(283),p=e.n(m),u=e(432),f=e.n(u),g=e(673),h={};h.styleTagTransform=f(),h.setAttributes=d(),h.insert=s().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=p(),o()(g.A,h),g.A&&g.A.locals&&g.A.locals;const w=(t,n)=>{const e=document.createElement(t);return e.className=n,e},b={WELCOME:"welcomeState",LOADING:"loadingState",ERROR:"errorState",WEATHER:"weatherContent"},y={searchForm:document.getElementById("searchForm"),searchInput:document.getElementById("searchInput"),searchBtn:document.getElementById("searchBtn"),locationBtn:document.getElementById("locationBtn"),status:document.getElementById("status"),retryBtn:document.getElementById("retryBtn"),loadingMessage:document.getElementById("loadingMessage"),errorMessage:document.getElementById("errorMessage"),currentWeather:document.getElementById("currentWeather"),weatherDetails:document.getElementById("weatherDetails")},x={location:y.currentWeather.querySelector(".current-weather__location"),temp:y.currentWeather.querySelector(".current-weather__temp"),icon:y.currentWeather.querySelector(".current-weather__icon"),condition:y.currentWeather.querySelector(".current-weather__condition"),feelsLike:y.currentWeather.querySelector(".current-weather__feels-like"),tempDetail:y.weatherDetails.querySelector(".temp"),humidity:y.weatherDetails.querySelector(".humidity"),wind:y.weatherDetails.querySelector(".wind"),precip:y.weatherDetails.querySelector(".precipitation"),sunrise:y.weatherDetails.querySelector(".sunrise"),sunset:y.weatherDetails.querySelector(".sunset"),uv:y.weatherDetails.querySelector(".uv"),visibility:y.weatherDetails.querySelector(".visibility"),pressure:y.weatherDetails.querySelector(".pressure"),dew:y.weatherDetails.querySelector(".dew")};function _(t){for(const t of Object.values(b))document.getElementById(t).classList.add("hidden");document.getElementById(t).classList.remove("hidden")}function v(t,n=!1){y.status.textContent=t,y.status.style.color=n?"red":"white"}function k(t){return new Date(t).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})}function C(t){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(t).getDay()]}let E=null,S=!1;const z="d15046a04b314a7386484452242209",$={maximumAge:3e4,timeout:27e3},I="Getting your location...",L="Your browser does not support geolocation",M="Unable to retrieve your location",B="You have blocked location access. Please enable it in your browser settings.",D=(()=>{let t;return(...n)=>{clearTimeout(t),t=setTimeout(()=>(async()=>{const t=y.searchInput.value.trim();if(!t)return void v("Please enter a location",!0);E&&E.abort(),E=new AbortController;const n=`https://api.weatherapi.com/v1/forecast.json?key=${z}&q=${t}&days=3&aqi=no&alerts=no`;try{_(b.LOADING),y.loadingMessage.textContent=`Fetching weather for ${t}...`;const r=await fetch(n,{signal:E.signal});if(!r.ok)throw new Error(`Response status: ${r.status}`);(function(t){var n;x.location.textContent=`${t.location.name}, ${t.location.region===t.location.name?"":`${t.location.region}, `}${t.location.country}`,x.temp.textContent=`${t.current.temp_c}°C`,x.icon.innerHTML=`<img src="https:${t.current.condition.icon.replace("64x64","128x128")}" alt="${t.current.condition.text} icon" />`,x.condition.textContent=t.current.condition.text,x.feelsLike.textContent=`Feels like ${t.current.feelslike_c}°C`,x.tempDetail.textContent=`${t.current.temp_c}°C`,x.humidity.textContent=`${t.current.humidity}%`,x.wind.textContent=`${t.current.wind_kph} km/h ${t.current.wind_dir}`,x.precip.textContent=`${t.current.precip_mm}mm`,x.sunrise.textContent=t.forecast.forecastday[0].astro.sunrise,x.sunset.textContent=t.forecast.forecastday[0].astro.sunset,x.uv.textContent=`${t.current.uv} ${n=t.current.uv,n<=2?"Low":n<=5?"Moderate":n<=7?"High":n<=10?"Very High":"Extreme"}`,x.visibility.textContent=`${t.current.vis_km} km`,x.pressure.textContent=`${t.current.pressure_mb} hPa`,x.dew.textContent=`${t.current.dewpoint_c}°C`})(e=await r.json()),function(t){const n=document.getElementById("hourlyList");n.innerHTML="";const e=(new Date).getHours(),r=t.forecast.forecastday[0].hour.filter(t=>new Date(t.time).getHours()>=e);for(const t of r){const e=`https:${t.condition.icon}`,r=w("div","hourly-forecast__item"),o=w("div","hourly-forecast__time"),a=w("div","hourly-forecast__icon"),i=w("div","hourly-forecast__temp");o.textContent=k(t.time),a.innerHTML=`<img src="${e}" alt="${t.condition.text} icon" />`,i.textContent=`${t.temp_c}°C`,r.append(o,a,i),n.append(r)}}(e),function(t){const n=document.getElementById("weeklyList");n.innerHTML="";const e=C(t.forecast.forecastday[0].date);for(const r of t.forecast.forecastday){const t=C(r.date),o=`https:${r.day.condition.icon}`,a=w("div","weekly-forecast__item"),i=w("div","weekly-forecast__day"),c=w("div","weekly-forecast__icon"),s=w("div","weekly-forecast__condition"),l=w("div","weekly-forecast__temps"),d=w("span","weekly-forecast__temp-high"),m=w("span","weekly-forecast__temp-low");i.textContent=t===e?"Today":t,c.innerHTML=`<img src="${o}" alt="${r.day.condition.text} icon" />`,s.textContent=r.day.condition.text,d.textContent=`${r.day.mintemp_c}°C`,m.textContent=`${r.day.maxtemp_c}°C`,l.append(m,d),a.append(i,c,s,l),n.append(a)}}(e),_(b.WEATHER),v(""),y.searchInput.value=""}catch(t){"AbortError"!==t.name&&((t=>{const n=t.message.includes("404")?"Location not found. Please try a different search term.":"Unable to fetch weather data. Please try again.";_(b.ERROR),y.errorMessage.textContent=n,console.error("Error fetching weather data:",t)})(t),v(""))}var e})(...n),300)}})();y.searchForm.addEventListener("submit",t=>{t.preventDefault(),""!==y.searchInput.value.trim()&&D()}),y.retryBtn.addEventListener("click",()=>_(b.WELCOME)),y.locationBtn.addEventListener("click",async()=>{if(S)v("Already getting location...");else{S=!0,y.locationBtn.disabled=!0;try{const t=await new Promise((t,n)=>{if(!navigator.geolocation)return v(L,!0),n(new Error(L));v(I),navigator.geolocation.getCurrentPosition(t,n,$)}),n=`${t.coords.latitude.toFixed(2)}, ${t.coords.longitude.toFixed(2)}`;v(""),y.searchInput.value=n,y.searchInput.focus(),D()}catch(t){const n=1===t.code;y.errorMessage.textContent=n?B:`${M}, ${t.message}`,_(b.ERROR),v("")}finally{S=!1,y.locationBtn.disabled=!1}}}),_(b.WELCOME)})();